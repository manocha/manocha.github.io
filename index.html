<html>
<head>
    <title>garv</title>    
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/common.css">
    
    <link rel="stylesheet" type="text/css" href="css/headerfooter.css">
    <link rel="stylesheet" type="text/css" href="css/content.css">
    
    <link rel="stylesheet" type="text/css" href="css/roundabout.css">
</head>

<body>
    <div id="headerContainer">
    <div id="header">
        <div id="headerLinks">
            <a href="http://www.facebook.com/garvm">facebook</a>
            <a href="http://github.com/manocha">github</a>
            <a href="mailto:manocha@usc.edu">contact</a>
        </div>
        
        <h1>garv</h1>
        <h2>student, programmer, designer, artist</h2>
    </div></div>
    
    <div id="contentContainer">
    <div id="content">        
        <div class="item extraPadding">
            <span><ul class="ios">
                <li><img src="img/pollen/IMG_1313.PNG" /></li>
                <li><img src="img/pollen/IMG_1314.PNG" /></li>
                <li><img src="img/pollen/IMG_1318.PNG" /></li>
                <li><img src="img/pollen/IMG_1333.PNG" /></li>
                <li><img src="img/pollen/IMG_1335.PNG" /></li>
                <li><img src="img/pollen/IMG_1310.PNG" /></li>
            </ul></span>
            
            <span class="text">
                <h2><em>Pollen: a bug's haiku</em></h2>
                <h3>iOS, Co-Designer/Engineer/Artist</h3>
                <a href="#" style="background-color: #005500; color: #dddddd; font-size: 0.95em">(COMING SOON)</a>
            </span>
        </div>
        
        <div class="item">            
            <span class="text">
                <h2>FBGT - <em>Brazil</em></h2>
                <h3>Music Video, Producer/Production Designer</h3>
                <a href="http://igg.me/at/fbgtbrazil/x">INDIEGOGO</a>
            </span>
            
            <span>
                <iframe src="//player.vimeo.com/video/97260201?byline=0&amp;portrait=0&amp;color=ff9933" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
            </span>
        </div>
        
        <!--
        <div class="item extraPadding">
            <span><ul class="ios">
                <li><img src="img/planetrun/cannon%20p2.png" /></li>
                <li><img src="img/planetrun/gravity%20planets.png" /></li>
                <li><img src="img/planetrun/hangar.png" /></li>
                <li><img src="img/planetrun/minions%20and%20spawner.png" /></li>
                <li><img src="img/planetrun/minions%20and%20turret.png" /></li>
                <li><img src="img/planetrun/nuke.png" /></li>
                <li><img src="img/planetrun/pause%20menu.png" /></li>
            </ul></span>
            
            <span class="text">
                <h2><em>PlanetRun</em> (unreleased)</h2>
                <h3>iOS, Lead Designer/Lead Engineer</h3>
            </span>
        </div>
        //-->
        
        <div class="item">
            <span>
                <img src="img/usc.png" />
            </span>
            
            <span class="text">
                <h2>Computer Science (<em>Games</em>)</h2>
                <h3>University of Southern California</h3>
            </span>
        </div>
    </div></div>
    
    <div id="footer">        
        <p>&copy; 2014 garv manocha</p>
    </div>
    
    <script src="js/jquery-2.1.0.min.js"></script>
    <script src="js/jquery.roundabout.min.js"></script>
    <script src="js/jquery.event.drag-2.2.js"></script>
    <script src="js/jquery.event.drop-2.2.js"></script> 
    <script>
        $(document).ready(function(){            
            //get scroll elements
            var $header = $('#headerContainer');
            var $body = $("#content");
            var originalHeight = $header.height();
            var fixedHeight = 42;
            
            //move links to fixed when scrolled past
            $(window).scroll(function() {
                var st = $(this).scrollTop();
                if(st > originalHeight-fixedHeight) {
                    $header.css('position', 'fixed');
                    $header.css('margin-top', -(originalHeight-fixedHeight)+'px');
                    $body.css('padding-top', originalHeight+'px');
                } else {                    
                    $header.css('position', 'relative');
                    $header.css('margin-top', 0+'px');
                    $body.css('padding-top', 0+'px');
                }
            }).scroll();
            
            //reset sizes when window resized
            $(window).resize(function() {
                $header.css('position', 'relative');
                $header.css('margin-top', 0+'px');
                $body.css('padding-top', 0+'px');
                
                originalHeight = $header.height();
                
                var st = $(this).scrollTop();
                if(st > originalHeight-fixedHeight) {
                    $header.css('position', 'fixed');
                    $header.css('margin-top', -(originalHeight-fixedHeight)+'px');
                    $body.css('padding-top', originalHeight+'px');
                }
            });
            
            //set roundabout elements
            $('li').bind({"reposition": function() {
                var degrees = $(this).data('roundabout').degrees;
                var roundaboutBearing = $(this).parent().data('roundabout').bearing;
                var rotate = Math.round(roundaboutBearing - degrees);
                
                while(rotate > 180) {
                    rotate = rotate-360;
                }
                while(rotate < -180) {
                    rotate = rotate+360;
                }
                
                rotate /= 2;

                if(rotate > 50 || rotate < -50) {
                    $(this).css({
                        "visibility": "hidden"
                    });
                } else {
                    $(this).css({
                        "visibility": "visible"
                    });
                }
                
                $(this).css({
                    "-webkit-transform": "rotate(" + rotate + "deg)",
                    "-ms-transform": "rotate(" + rotate + "deg)",
                    "transform": "rotate(" + rotate + "deg)"
                });
            }})
            $('ul').roundabout({
                maxScale: 1,
                minScale: 0.7,
                duration: 200,
                enableDrag: true,
                autoplay: true,
                autoplayDuration: 3500,
                autoplayPauseOnHover: true
            });
        });
    </script>
</body>
</html>